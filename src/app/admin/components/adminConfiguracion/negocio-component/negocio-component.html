<div class=" w-full px-4 py-2 ">
    <div class="flex justify-between items-center ">
        <div class="p-1">
            <div class="title">
                <h1 class="text-sm"> Configuración / <span class="font-medium"> Negocio </span>
                </h1>
                <h1 class="mt-5 font-semibold text-xl">Configuración del negocio</h1>
                <span class="text-xs">Gestiona la información y configuración de tu negocio. </span>
            </div>
        </div>
    </div>

    <ul class="flex flex-wrap text-xs font-medium text-center text-gray-500 border-b border-gray-200 mt-3">
        @for(tab of tabs; track tab){
        <li class="me-0.25" (click)="selectTab(tab.id)">

            <a [ngClass]="getTabClasses(tab.id)"
                class="inline-block p-2.5 px-5 rounded-t-lg transition-colors duration-200">
                {{ tab.label }}
            </a>
        </li>
        }
    </ul>
    <div class="h-full bg-white ">
        @if(activeTab === 1){

        <div class="max-w-4xl mx-auto pt-6 ">

            <!-- Título principal -->
            <div class="mb-8">
                <div class="flex items-center mb-2">
                    <span class="material-symbols-outlined text-red-500 mr-2 ">
                        domain
                    </span>
                    <h1 class="text-lg font-medium text-gray-500">Información general del negocio</h1>
                </div>
            </div>

            <!-- Formulario -->
            <form class="space-y-6">

                <!-- Fila 1: Tipo de negocio y Logo -->
                <div class="grid grid-cols-2 lg:grid-cols-2 gap-8">
                    <div class="col-span-1">
                        <div class="grid grid-cols-1 ">
                            <div class="col-span-1 mb-4 ">
                                <div>
                                    <label for="servicio" class="block text-xs font-medium text-gray-500 ">
                                        Tipo de negocio *
                                    </label>
                                    <div class="relative mt-1">
                                        <select class="selectGeneral2" required>
                                            <option selected disabled value="" class="!text-gray-400">Seleccione una
                                                opción</option>
                                            <option selected>Veterinaria</option>
                                            <option>Medicina general</option>
                                            <option>Odontología</option>
                                            <option>Fisioterapia</option>
                                            <option>Psicología</option>
                                            <option>Nutrición</option>
                                            <option>Otro</option>

                                        </select>
                                        <div
                                            class="absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none">
                                            <i class="ri-expand-up-down-line text-red-600 "></i>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-span-1 mb-4">
                                <div>
                                    <label for="servicio" class="block text-xs font-medium text-gray-500 mb-1">
                                        RUC *
                                    </label>
                                    <input type="text" class="inputGeneral4" placeholder="1104XXXXXX">
                                </div>
                            </div>
                            <div class="col-span-1 mb-4">
                                <div>
                                    <label for="servicio" class="block text-xs font-medium text-gray-500 mb-1">
                                        Razón Social *
                                    </label>
                                    <input type="text" class="inputGeneral4" placeholder="1104XXXXXX">
                                </div>
                            </div>
                            <div class="col-span-1 mb-4">
                                <div>
                                    <label for="servicio" class="block text-xs font-medium text-gray-500 mb-1">
                                        Nombre Comercial *
                                    </label>
                                    <input type="text" class="inputGeneral4" placeholder="1104XXXXXX">
                                </div>
                            </div>

                        </div>

                    </div>
                    <div class="col-span-1">
                        <!-- Logo del negocio -->
                        <div>
                            <label class="block mb-2 text-xs font-medium text-gray-500">Logo del negocio</label>

                            <!-- Área de subida de imagen -->
                            <div class="flex items-center justify-center w-full">
                                <label for="dropzone-file"
                                    class="flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100">
                                    <div class="flex flex-col items-center justify-center pt-5 pb-6" id="upload-area">
                                        <!-- Logo preview (inicialmente oculto) -->
                                        <div id="logo-preview" class="hidden">
                                            <img id="preview-image" src="" alt="Logo preview"
                                                class="h-20 w-20 object-contain mb-2">
                                            <p class="text-xs text-gray-500">Logo .png</p>
                                        </div>

                                        <!-- Upload icon (visible por defecto) -->
                                        <div id="upload-icon" class="text-center">
                                            <svg class="w-8 h-8 mb-4 text-gray-500" fill="none" stroke="currentColor"
                                                viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12">
                                                </path>
                                            </svg>
                                            <p class="mb-2 text-sm text-gray-500">
                                                <span class="font-semibold">Clic para subir</span> o arrastra y suelta
                                            </p>
                                            <p class="text-xs text-gray-500">PNG (MAX. 5MB)</p>
                                        </div>
                                    </div>
                                    <input id="dropzone-file" type="file" class="hidden" accept=".png"
                                        onchange="handleFileSelect(event)">
                                </label>
                            </div>

                            <!-- Botón eliminar -->
                            <div class="flex justify-end mt-2">
                                <button type="button" id="delete-logo" class="hidden text-red-600 hover:text-red-800"
                                    onclick="deleteLogo()">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd"
                                            d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                                            clip-rule="evenodd"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- Consejos para el logo -->
                        <div class="bg-cyan-50 border border-blue-50 rounded-lg p-4">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <span class="material-symbols-rounded text-blue-600">
                                        info
                                    </span>
                                </div>
                                <div class="ml-3">
                                    <h3 class="text-sm font-medium text-blue-800">Consejos para tu logo:</h3>
                                    <div class="mt-2 text-xs text-blue-700">
                                        <ul class="list-disc list-inside space-y-1">
                                            <li>Usa formato PNG para fondos transparentes</li>
                                            <li>Formato cuadrado (1:1) para mejor visualización</li>
                                            <li>Resolución mínima recomendada: 200x200 píxeles</li>
                                            <li>Tamaño máximo de archivo: 5MB</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Subdominio -->
                <div>
                    <label for="subdominio" class="block mb-2 text-xs font-medium text-gray-500">Subdominio</label>
                    <div class="flex">
                        <input type="text" id="subdominio" value="https://vidasalud.agendasof.com" readonly
                            class="bg-gray-50 !text-red-500 border border-gray-300 text-gray-500 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full px-2.5 cursor-not-allowed">
                        <button type="button" class="ml-2 px-2.5 py-1 text-gray-500 hover:text-gray-700"
                            (click)="copyToClipboard($event)">
                            <span class="material-symbols-outlined !text-md ">
                                content_copy
                            </span>
                        </button>
                    </div>
                </div>

                <!-- Alerta importante -->
                <div class="bg-yellow-50 border border-yellow-100 rounded-lg p-3">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <span class="material-symbols-rounded text-yellow-500">
                                warning
                            </span>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-sm font-medium text-yellow-800">Importante</h3>
                            <div class="mt-2 text-xs text-yellow-600">
                                <p>Asegúrate de que la información coincida exactamente con tus documentos legales.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Botones de acción -->
                <div class="flex justify-end space-x-4 py-5">

                    <button type="submit"
                        class=" transition transform effectoZoomBoton  px-7 py-2 text-xs font-medium text-white bg-red-600 rounded-full hover:bg-red-600 focus:ring-4 focus:ring-red-300">
                        Guardar Cambios
                    </button>
                </div>

            </form>

        </div>




        }@else if(activeTab === 2){

        <div class="max-w-4xl mx-auto pt-6 pb-10 ">

            <div class="mb-8">
                <div class="flex items-center mb-2">
                    <span class="material-symbols-outlined text-red-500 mr-2 ">
                        call
                    </span>
                    <h1 class="text-lg font-medium text-gray-500">Contactos y Ubicación</h1>
                </div>
            </div>

            <form [formGroup]="formDatosNegocio">
                <div class="grid grid-cols-2 lg:grid-cols-2 gap-5">
                    <div class="col-span-1">
                        <div>
                            <label for="servicio" class="pb-1 block text-xs font-medium text-gray-500 ">
                                Correo electrónico *
                            </label>
                            <div class="relative">

                                <div class="absolute inset-y-0 left-0 flex items-center px-1 pointer-events-none">
                                    <span class="material-symbols-outlined text-red-500  ml-1  pb-0.5">
                                        mail
                                    </span>
                                </div>
                                <input class="inputGeneral4 !pl-9 " placeholder="corre@prueba.com" type="text">

                            </div>
                        </div>

                    </div>
                    <div class="col-span-1">

                    </div>
                    <div class="col-span-1">
                        <app-input-phone-component [tipo]="'Teléfono fijo'"></app-input-phone-component>
                    </div>
                    <div class="col-span-1">
                        <app-input-phone-component [tipo]="'Teléfono móvil'"></app-input-phone-component>
                    </div>

                    <div class="col-span-1">
                        <div>
                            <label for="servicio" class="block text-xs font-medium text-gray-500 pb-1 ">
                                Provincia *
                            </label>
                            <div class="relative">
                                <select class="selectGeneral4 !text-gray-500" required>
                                    <option selected disabled value="" class="!text-gray-400">Seleccione una
                                        opción</option>

                                </select>
                                <div class="absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none">
                                    <i class="ri-expand-up-down-line text-red-600 "></i>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="col-span-1">
                        <div>
                            <label for="servicio" class="block text-xs font-medium text-gray-500 pb-1 ">
                                Cantón *
                            </label>
                            <div class="relative">
                                <select class="selectGeneral4 !text-gray-500" required>
                                    <option selected disabled value="" class="!text-gray-400">Seleccione un cantón
                                    </option>

                                </select>
                                <div class="absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none">
                                    <i class="ri-expand-up-down-line text-red-600 "></i>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="col-span-1">
                        <div>
                            <label for="servicio" class="block text-xs font-medium text-gray-500 pb-1 ">
                                Ciudad *
                            </label>
                            <div class="relative">
                                <select class="selectGeneral4 !text-gray-500" required>
                                    <option selected disabled value="" class="!text-gray-400">Seleccione una
                                        opción</option>

                                </select>
                                <div class="absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none">
                                    <i class="ri-expand-up-down-line text-red-600 "></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-span-1">
                        <div>
                            <label for="servicio" class="block text-xs font-medium text-gray-500 pb-1 ">
                                Dirección *
                            </label>
                            <input type="text" class="inputGeneral4" placeholder="Ingrese dirección">
                        </div>
                    </div>
                </div>

                <hr class="text-gray-200 my-7 ">
                <div class="flex justify-between items-center  ">
                    <h1 class="text-gray-500 text-sm font-medium ">Redes Sociales</h1>
                    <button (click)="addSocialMedia()"
                        class=" transition transform effectoZoomBoton  text-xs px-5 py-1 border-1 border-gray-300 rounded-full text-red-600  ">
                        <div class="flex justify-center items-center">
                            <span class="material-symbols-outlined">
                                add
                            </span> Agregar
                        </div>

                    </button>
                </div>

                <div class="w-full mt-3 ">

                    <div class="space-y-4" formArrayName="redSocial">
                        @for (control of redSocial.controls; track control; let i = $index) {
                        <div class="bg-gray-100 rounded-lg border border-gray-200 p-4">

                            <div class="flex items-center space-x-4" [formGroupName]="i">
                                <div class="flex-shrink-0">
                                    <div class="w-10 h-10  rounded-lg flex items-center justify-center">
                                        @if(control.get('tipo')?.value === 1){
                                        <svg class="w-6 h-6 text-gray-600" fill="currentColor" viewBox="0 0 24 24">
                                            <path
                                                d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
                                        </svg>
                                        }@else if(control.get('tipo')?.value === 2){
                                        <svg class="w-6 h-6 text-gray-600" fill="currentColor" viewBox="0 0 24 24">
                                            <path
                                                d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                                        </svg>
                                        }@else{
                                        <svg class="w-6 h-6 text-gray-600" fill="currentColor" viewBox="0 0 24 24">
                                            <path
                                                d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
                                        </svg>

                                        }

                                    </div>
                                </div>

                                <div class="relative  w-50">
                                    <select formControlName="tipo" class="selectGeneral4"
                                        (change)="selectSocialMedia($event, i)">
                                        <option value="1">Facebook</option>
                                        <option value="2">X</option>
                                        <option value="3">LinkedIn</option>
                                    </select>
                                    <div class="absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none">
                                        <i class="ri-expand-up-down-line text-red-600 "></i>
                                    </div>
                                </div>

                                <div class="flex-1">
                                    <input type="url" id="facebook-url" class="inputGeneral4"
                                        placeholder="https://facebook.com/company/tu-negocio" value="">
                                </div>

                                <div class="flex-shrink-0">
                                    <button type="button" (click)="deleteEvidencia(i)"
                                        class=" cursor-pointer pt-1.5 text-red-500 hover:text-red-600 transition-colors">
                                        <span class="material-symbols-outlined">
                                            delete
                                        </span>
                                    </button>
                                </div>

                            </div>
                        </div>
                        }
                        <div class="flex justify-end pt-5">
                            <button class=" transition transform effectoZoomBoton  bg-red-600  text-xs text-white px-8 py-2 rounded-full shadow-md ">
                                Guardar Cambios
                            </button>
                        </div>
                    </div>

                </div>


            </form>

        </div>
        }@else if(activeTab===3){
        <div class="max-w-4xl mx-auto pt-6 pb-10 ">
            <div class="mb-8">
                <div class="flex items-center mb-2">
                    <span class="material-symbols-outlined text-red-500 mr-2 ">
                        schedule
                    </span>
                    <h1 class="text-lg font-medium text-gray-500">Configura el horario de atención</h1>
                </div>
            </div>
            <app-horario-atencion-component></app-horario-atencion-component>
        </div>
        }@else if(activeTab===4){
        <div class="max-w-4xl mx-auto pt-6 pb-10 ">
            <div class="mb-8">
                <div class="flex items-center mb-2">
                    <span class="material-symbols-outlined text-red-500 mr-2 ">
                        info
                    </span>
                    <h1 class="text-lg font-medium text-gray-500">Información Adicional</h1>
                </div>
            </div>
            <app-informacion-adicional-component></app-informacion-adicional-component>
        </div>
        }@else{
        <div class="max-w-4xl mx-auto pt-6 pb-10 ">
            <div class="mb-8">
                <div class="flex items-center mb-2">
                    <span class="material-symbols-outlined text-red-500 mr-2 ">
                        workspace_premium
                    </span>
                    <h1 class="text-lg font-medium text-gray-500">Plan actual</h1>
                </div>
            </div>
            <app-planes-component></app-planes-component>
        </div>
        }


    </div>

</div>